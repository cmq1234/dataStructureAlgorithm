<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>单向链表</title>
</head>
<body>
<script>
    function LinkedList() {
        this.head = null
        this.length = 0
        function Node(data) {
            this.data = data
            this.next = null
        }

        LinkedList.prototype.append = function (data) {
            let newNode = new Node(data)
            if(this.length === 0) {
                this.head = newNode
            }else {
                let current = this.head
                while(current.next) {
                    current = current.next
                }
                current.next = newNode
            }
            this.length++
        }
        LinkedList.prototype.toString = function () {
            let linkString = ''
            let current = this.head
            while(current) {
                linkString += current.data + ' '
                current = current.next
            }
            return linkString
        }
        LinkedList.prototype.insert = function (data, position) {
            if (position < 0 || position > this.length) {
                return false
            }
            let newNode = new Node(data)
            if(position === 0) {
                newNode.next = this.head
                this.head = newNode
            } else {
                let index = 0
                let current = this.head
                let pervious = null
                while(index++ < position){
                    position = current
                    current = current.next
                }
                newNode.next = current
                position.next = newNode
            }
            return true
        }
        LinkedList.prototype.get = function (position) {
            if (position < 0 || position >= this.length) return null
            let index = 0
            let current = this.head
            while(index++ < position) {
                current = current.next
            }
            return current.data
        }
    }

    let link = new LinkedList()
    link.append(10)
    link.append(20)
    link.append(30)
    link.append(40)
    link.insert(15,4)
    console.log(link.toString());
</script>
</body>
</html>
